# Данный сервер сможет обрабатывать запросы от каждого нового подключения

import socket
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.bind(('0.0.0.0', 9090))
s.listen(5) # Ограничение на подключение 5ти клиентов

# Метод accept() возвращает пару значений, которую я помещаю в две переменные: в addr будут содержаться данные о том,
# кто был отправителем (ip и сокет), а client станет экземпляром класса socket
client, addr = s.accept()
print(client)
print(addr)

while True:
    # Если будет проблема с кирилицей, можно поменять кодировку командой 'chcp 65001'
    command = input('Ввод команды ')
    client.send(command.encode())
    if command == 'exit':
        break
    result_output = client.recv(1024).decode()
    print(result_output)
client.close()
s.close()


